{"role":"user","content":[{"type":"input_text","text":"Réorganise ce plugin WordPress en suivant les bonnes pratiques. \n  Crée un fichier principal wp-ai-info.php, un dossier includes/ avec des classes séparées,\n  un dossier assets/ avec css/js, et un fichier uninstall.php. \n  Donne-moi le contenu de chaque fichier sous la forme :\n  === chemin/nom-du-fichier.php ===\n  (contenu)\n  === includes/class-admin.php ===\n  (contenu)\n  etc."}],"type":"message"}
{"id":"rs_68d9708962508194ae941d03f1a3e4fa0b387a6d926e0c89","type":"reasoning","summary":[],"duration_ms":39027}
{"id":"msg_68d970add1008194a8307ba1c4f4b0500b387a6d926e0c89","type":"message","status":"completed","content":[{"type":"output_text","annotations":[],"logprobs":[],"text":"Voici une proposition d’organisation du plugin “WP AI Info” selon les bonnes pratiques :\n\n=== wp-ai-info.php ===\n```php\n<?php\n/**\n * Plugin Name:     WP AI Info\n * Description:     Affiche des informations AI dans votre site WordPress.\n * Version:         1.0.0\n * Author:          Votre Nom\n * Text Domain:     wp-ai-info\n */\n\nif ( ! defined( 'ABSPATH' ) ) {\n    exit;\n}\n\ndefine( 'WP_AI_INFO_VERSION', '1.0.0' );\ndefine( 'WP_AI_INFO_PLUGIN_DIR', plugin_dir_path( __FILE__ ) );\ndefine( 'WP_AI_INFO_PLUGIN_URL', plugin_dir_url( __FILE__ ) );\n\nrequire_once WP_AI_INFO_PLUGIN_DIR . 'includes/class-admin.php';\nrequire_once WP_AI_INFO_PLUGIN_DIR . 'includes/class-public.php';\n\nfunction wp_ai_info_activate() {\n    add_option( 'wp_ai_info_settings', array() );\n}\nregister_activation_hook( __FILE__, 'wp_ai_info_activate' );\n\nfunction wp_ai_info_deactivate() {\n    // Rien de particulier pour l'instant.\n}\nregister_deactivation_hook( __FILE__, 'wp_ai_info_deactivate' );\n\nadd_action( 'plugins_loaded', function() {\n    new WP_AI_Info_Admin();\n    new WP_AI_Info_Public();\n} );\n```\n\n=== uninstall.php ===\n```php\n<?php\nif ( ! defined( 'WP_UNINSTALL_PLUGIN' ) ) {\n    exit;\n}\n\n// Suppression de l’option enregistrée\ndelete_option( 'wp_ai_info_settings' );\n```\n\n=== includes/class-admin.php ===\n```php\n<?php\ndefined( 'ABSPATH' ) || exit;\n\nclass WP_AI_Info_Admin {\n    public function __construct() {\n        add_action( 'admin_enqueue_scripts', array( $this, 'enqueue_styles' ) );\n        add_action( 'admin_enqueue_scripts', array( $this, 'enqueue_scripts' ) );\n        add_action( 'admin_menu',             array( $this, 'add_admin_menu' ) );\n    }\n\n    public function enqueue_styles() {\n        wp_enqueue_style( 'wp-ai-info-admin', WP_AI_INFO_PLUGIN_URL . 'assets/css/admin.css', array(), WP_AI_INFO_VERSION );\n    }\n\n    public function enqueue_scripts() {\n        wp_enqueue_script( 'wp-ai-info-admin', WP_AI_INFO_PLUGIN_URL . 'assets/js/admin.js', array( 'jquery' ), WP_AI_INFO_VERSION, true );\n    }\n\n    public function add_admin_menu() {\n        add_menu_page(\n            __( 'AI Info', 'wp-ai-info' ),\n            __( 'AI Info', 'wp-ai-info' ),\n            'manage_options',\n            'wp-ai-info',\n            array( $this, 'render_admin_page' ),\n            'dashicons-info'\n        );\n    }\n\n    public function render_admin_page() {\n        ?>\n        <div class=\"wrap\">\n            <h1><?php esc_html_e( 'AI Info Settings', 'wp-ai-info' ); ?></h1>\n            <form method=\"post\" action=\"options.php\">\n                <?php\n                settings_fields( 'wp_ai_info_settings_group' );\n                do_settings_sections( 'wp-ai-info' );\n                submit_button();\n                ?>\n            </form>\n        </div>\n        <?php\n    }\n}\n```\n\n=== includes/class-public.php ===\n```php\n<?php\ndefined( 'ABSPATH' ) || exit;\n\nclass WP_AI_Info_Public {\n    public function __construct() {\n        add_action( 'wp_enqueue_scripts', array( $this, 'enqueue_styles' ) );\n        add_action( 'wp_enqueue_scripts', array( $this, 'enqueue_scripts' ) );\n    }\n\n    public function enqueue_styles() {\n        wp_enqueue_style( 'wp-ai-info-public', WP_AI_INFO_PLUGIN_URL . 'assets/css/public.css', array(), WP_AI_INFO_VERSION );\n    }\n\n    public function enqueue_scripts() {\n        wp_enqueue_script( 'wp-ai-info-public', WP_AI_INFO_PLUGIN_URL . 'assets/js/public.js', array( 'jquery' ), WP_AI_INFO_VERSION, true );\n    }\n}\n```\n\n=== assets/css/admin.css ===\n```css\n/* Styles pour la page d’administration de WP AI Info */\n.wrap .wp-ai-info-admin {\n    /* … */\n}\n```\n\n=== assets/js/admin.js ===\n```js\n(function($) {\n    $(document).ready(function() {\n        console.log('WP AI Info: script admin chargé');\n    });\n})(jQuery);\n```\n\n=== assets/css/public.css ===\n```css\n/* Styles publics pour WP AI Info */\n```\n\n=== assets/js/public.js ===\n```js\n(function($) {\n    $(document).ready(function() {\n        console.log('WP AI Info: script public chargé');\n    });\n})(jQuery);\n```"}],"role":"assistant"}
{"id":"rs_68d9708962508194ae941d03f1a3e4fa0b387a6d926e0c89","type":"reasoning","summary":[]}
{"id":"msg_68d970add1008194a8307ba1c4f4b0500b387a6d926e0c89","type":"message","status":"completed","content":[{"type":"output_text","annotations":[],"logprobs":[],"text":"Voici une proposition d’organisation du plugin “WP AI Info” selon les bonnes pratiques :\n\n=== wp-ai-info.php ===\n```php\n<?php\n/**\n * Plugin Name:     WP AI Info\n * Description:     Affiche des informations AI dans votre site WordPress.\n * Version:         1.0.0\n * Author:          Votre Nom\n * Text Domain:     wp-ai-info\n */\n\nif ( ! defined( 'ABSPATH' ) ) {\n    exit;\n}\n\ndefine( 'WP_AI_INFO_VERSION', '1.0.0' );\ndefine( 'WP_AI_INFO_PLUGIN_DIR', plugin_dir_path( __FILE__ ) );\ndefine( 'WP_AI_INFO_PLUGIN_URL', plugin_dir_url( __FILE__ ) );\n\nrequire_once WP_AI_INFO_PLUGIN_DIR . 'includes/class-admin.php';\nrequire_once WP_AI_INFO_PLUGIN_DIR . 'includes/class-public.php';\n\nfunction wp_ai_info_activate() {\n    add_option( 'wp_ai_info_settings', array() );\n}\nregister_activation_hook( __FILE__, 'wp_ai_info_activate' );\n\nfunction wp_ai_info_deactivate() {\n    // Rien de particulier pour l'instant.\n}\nregister_deactivation_hook( __FILE__, 'wp_ai_info_deactivate' );\n\nadd_action( 'plugins_loaded', function() {\n    new WP_AI_Info_Admin();\n    new WP_AI_Info_Public();\n} );\n```\n\n=== uninstall.php ===\n```php\n<?php\nif ( ! defined( 'WP_UNINSTALL_PLUGIN' ) ) {\n    exit;\n}\n\n// Suppression de l’option enregistrée\ndelete_option( 'wp_ai_info_settings' );\n```\n\n=== includes/class-admin.php ===\n```php\n<?php\ndefined( 'ABSPATH' ) || exit;\n\nclass WP_AI_Info_Admin {\n    public function __construct() {\n        add_action( 'admin_enqueue_scripts', array( $this, 'enqueue_styles' ) );\n        add_action( 'admin_enqueue_scripts', array( $this, 'enqueue_scripts' ) );\n        add_action( 'admin_menu',             array( $this, 'add_admin_menu' ) );\n    }\n\n    public function enqueue_styles() {\n        wp_enqueue_style( 'wp-ai-info-admin', WP_AI_INFO_PLUGIN_URL . 'assets/css/admin.css', array(), WP_AI_INFO_VERSION );\n    }\n\n    public function enqueue_scripts() {\n        wp_enqueue_script( 'wp-ai-info-admin', WP_AI_INFO_PLUGIN_URL . 'assets/js/admin.js', array( 'jquery' ), WP_AI_INFO_VERSION, true );\n    }\n\n    public function add_admin_menu() {\n        add_menu_page(\n            __( 'AI Info', 'wp-ai-info' ),\n            __( 'AI Info', 'wp-ai-info' ),\n            'manage_options',\n            'wp-ai-info',\n            array( $this, 'render_admin_page' ),\n            'dashicons-info'\n        );\n    }\n\n    public function render_admin_page() {\n        ?>\n        <div class=\"wrap\">\n            <h1><?php esc_html_e( 'AI Info Settings', 'wp-ai-info' ); ?></h1>\n            <form method=\"post\" action=\"options.php\">\n                <?php\n                settings_fields( 'wp_ai_info_settings_group' );\n                do_settings_sections( 'wp-ai-info' );\n                submit_button();\n                ?>\n            </form>\n        </div>\n        <?php\n    }\n}\n```\n\n=== includes/class-public.php ===\n```php\n<?php\ndefined( 'ABSPATH' ) || exit;\n\nclass WP_AI_Info_Public {\n    public function __construct() {\n        add_action( 'wp_enqueue_scripts', array( $this, 'enqueue_styles' ) );\n        add_action( 'wp_enqueue_scripts', array( $this, 'enqueue_scripts' ) );\n    }\n\n    public function enqueue_styles() {\n        wp_enqueue_style( 'wp-ai-info-public', WP_AI_INFO_PLUGIN_URL . 'assets/css/public.css', array(), WP_AI_INFO_VERSION );\n    }\n\n    public function enqueue_scripts() {\n        wp_enqueue_script( 'wp-ai-info-public', WP_AI_INFO_PLUGIN_URL . 'assets/js/public.js', array( 'jquery' ), WP_AI_INFO_VERSION, true );\n    }\n}\n```\n\n=== assets/css/admin.css ===\n```css\n/* Styles pour la page d’administration de WP AI Info */\n.wrap .wp-ai-info-admin {\n    /* … */\n}\n```\n\n=== assets/js/admin.js ===\n```js\n(function($) {\n    $(document).ready(function() {\n        console.log('WP AI Info: script admin chargé');\n    });\n})(jQuery);\n```\n\n=== assets/css/public.css ===\n```css\n/* Styles publics pour WP AI Info */\n```\n\n=== assets/js/public.js ===\n```js\n(function($) {\n    $(document).ready(function() {\n        console.log('WP AI Info: script public chargé');\n    });\n})(jQuery);\n```"}],"role":"assistant"}
{"id":"rs_68d9708962508194ae941d03f1a3e4fa0b387a6d926e0c89","type":"reasoning","summary":[]}
{"id":"msg_68d970add1008194a8307ba1c4f4b0500b387a6d926e0c89","type":"message","status":"completed","content":[{"type":"output_text","annotations":[],"logprobs":[],"text":"Voici une proposition d’organisation du plugin “WP AI Info” selon les bonnes pratiques :\n\n=== wp-ai-info.php ===\n```php\n<?php\n/**\n * Plugin Name:     WP AI Info\n * Description:     Affiche des informations AI dans votre site WordPress.\n * Version:         1.0.0\n * Author:          Votre Nom\n * Text Domain:     wp-ai-info\n */\n\nif ( ! defined( 'ABSPATH' ) ) {\n    exit;\n}\n\ndefine( 'WP_AI_INFO_VERSION', '1.0.0' );\ndefine( 'WP_AI_INFO_PLUGIN_DIR', plugin_dir_path( __FILE__ ) );\ndefine( 'WP_AI_INFO_PLUGIN_URL', plugin_dir_url( __FILE__ ) );\n\nrequire_once WP_AI_INFO_PLUGIN_DIR . 'includes/class-admin.php';\nrequire_once WP_AI_INFO_PLUGIN_DIR . 'includes/class-public.php';\n\nfunction wp_ai_info_activate() {\n    add_option( 'wp_ai_info_settings', array() );\n}\nregister_activation_hook( __FILE__, 'wp_ai_info_activate' );\n\nfunction wp_ai_info_deactivate() {\n    // Rien de particulier pour l'instant.\n}\nregister_deactivation_hook( __FILE__, 'wp_ai_info_deactivate' );\n\nadd_action( 'plugins_loaded', function() {\n    new WP_AI_Info_Admin();\n    new WP_AI_Info_Public();\n} );\n```\n\n=== uninstall.php ===\n```php\n<?php\nif ( ! defined( 'WP_UNINSTALL_PLUGIN' ) ) {\n    exit;\n}\n\n// Suppression de l’option enregistrée\ndelete_option( 'wp_ai_info_settings' );\n```\n\n=== includes/class-admin.php ===\n```php\n<?php\ndefined( 'ABSPATH' ) || exit;\n\nclass WP_AI_Info_Admin {\n    public function __construct() {\n        add_action( 'admin_enqueue_scripts', array( $this, 'enqueue_styles' ) );\n        add_action( 'admin_enqueue_scripts', array( $this, 'enqueue_scripts' ) );\n        add_action( 'admin_menu',             array( $this, 'add_admin_menu' ) );\n    }\n\n    public function enqueue_styles() {\n        wp_enqueue_style( 'wp-ai-info-admin', WP_AI_INFO_PLUGIN_URL . 'assets/css/admin.css', array(), WP_AI_INFO_VERSION );\n    }\n\n    public function enqueue_scripts() {\n        wp_enqueue_script( 'wp-ai-info-admin', WP_AI_INFO_PLUGIN_URL . 'assets/js/admin.js', array( 'jquery' ), WP_AI_INFO_VERSION, true );\n    }\n\n    public function add_admin_menu() {\n        add_menu_page(\n            __( 'AI Info', 'wp-ai-info' ),\n            __( 'AI Info', 'wp-ai-info' ),\n            'manage_options',\n            'wp-ai-info',\n            array( $this, 'render_admin_page' ),\n            'dashicons-info'\n        );\n    }\n\n    public function render_admin_page() {\n        ?>\n        <div class=\"wrap\">\n            <h1><?php esc_html_e( 'AI Info Settings', 'wp-ai-info' ); ?></h1>\n            <form method=\"post\" action=\"options.php\">\n                <?php\n                settings_fields( 'wp_ai_info_settings_group' );\n                do_settings_sections( 'wp-ai-info' );\n                submit_button();\n                ?>\n            </form>\n        </div>\n        <?php\n    }\n}\n```\n\n=== includes/class-public.php ===\n```php\n<?php\ndefined( 'ABSPATH' ) || exit;\n\nclass WP_AI_Info_Public {\n    public function __construct() {\n        add_action( 'wp_enqueue_scripts', array( $this, 'enqueue_styles' ) );\n        add_action( 'wp_enqueue_scripts', array( $this, 'enqueue_scripts' ) );\n    }\n\n    public function enqueue_styles() {\n        wp_enqueue_style( 'wp-ai-info-public', WP_AI_INFO_PLUGIN_URL . 'assets/css/public.css', array(), WP_AI_INFO_VERSION );\n    }\n\n    public function enqueue_scripts() {\n        wp_enqueue_script( 'wp-ai-info-public', WP_AI_INFO_PLUGIN_URL . 'assets/js/public.js', array( 'jquery' ), WP_AI_INFO_VERSION, true );\n    }\n}\n```\n\n=== assets/css/admin.css ===\n```css\n/* Styles pour la page d’administration de WP AI Info */\n.wrap .wp-ai-info-admin {\n    /* … */\n}\n```\n\n=== assets/js/admin.js ===\n```js\n(function($) {\n    $(document).ready(function() {\n        console.log('WP AI Info: script admin chargé');\n    });\n})(jQuery);\n```\n\n=== assets/css/public.css ===\n```css\n/* Styles publics pour WP AI Info */\n```\n\n=== assets/js/public.js ===\n```js\n(function($) {\n    $(document).ready(function() {\n        console.log('WP AI Info: script public chargé');\n    });\n})(jQuery);\n```"}],"role":"assistant"}
